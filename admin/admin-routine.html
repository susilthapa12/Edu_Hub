<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard | Routine</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        display: flex;
        min-height: 100vh;
        background-color: #f4f4f4;
    }
    /* Sidebar */
    .sidebar {
        width: 220px;
        background-color: #333;
        color: white;
        flex-shrink: 0;
        display: flex;
        flex-direction: column;
        padding: 20px;
    }
    .sidebar h2 { text-align: center; margin-bottom: 20px; }
    .sidebar a {
        color: white;
        text-decoration: none;
        margin: 10px 0;
        display: block;
        padding: 8px;
        border-radius: 4px;
    }
    .sidebar a:hover { background-color: #444; }

    /* Main content */
    .main { flex-grow: 1; padding: 20px; }
    h1, h2 { margin-bottom: 10px; }
    section { background-color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    table, th, td { border: 1px solid #ccc; }
    th, td { padding: 8px; text-align: left; }
    tr:hover { background-color: #f1f1f1; }
    input, button { padding: 6px; margin: 5px 0; border-radius: 4px; border: 1px solid #ccc; }
    button { cursor: pointer; }
    .delete { background-color: red; color: white; border: none; padding: 5px 10px; border-radius: 4px; }
    .edit { background-color: orange; color: white; border: none; padding: 5px 10px; border-radius: 4px; }
    footer { text-align: center; padding: 10px; background-color: #333; color: white; margin-top: 20px; }

    @media(max-width: 768px) {
        body { flex-direction: column; }
        .sidebar { width: 100%; flex-direction: row; overflow-x: auto; }
        .sidebar a { flex: 1; text-align: center; margin: 0 5px; }
    }
</style>
</head>
<body>

<div class="sidebar">
    <h2>Admin</h2>
    <a href="#home">Home</a>
    <a href="#routine">Routine</a>
</div>

<div class="main">
    <section id="home">
        <h1>Welcome, Admin!</h1>
        <p>Manage daily routines for students below.</p>
    </section>

    <section id="routine">
        <h2>Manage Routines</h2>
        <input type="text" id="routineTime" placeholder="Time (08:00 - 09:00)">
        <input type="text" id="routineCourse" placeholder="Course Name">
        <input type="text" id="routineInstructor" placeholder="Instructor">
        <input type="text" id="routineLocation" placeholder="Location">
        <button onclick="addRoutine()">Add Routine</button>

        <table id="routineTable">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>Course</th>
                    <th>Instructor</th>
                    <th>Location</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- Routine rows go here -->
            </tbody>
        </table>
    </section>

    <footer>&copy; 2025 Admin Dashboard</footer>
</div>

<script>
let routines = JSON.parse(localStorage.getItem('routines')) || [];
let editIndex = -1;

function displayRoutines() {
    const tbody = document.querySelector('#routineTable tbody');
    tbody.innerHTML = '';
    routines.forEach((r, i) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${r.time}</td>
            <td>${r.course}</td>
            <td>${r.instructor}</td>
            <td>${r.location}</td>
            <td>
                <button class="edit" onclick="editRoutine(${i})">Edit</button>
                <button class="delete" onclick="deleteRoutine(${i})">Delete</button>
            </td>
        `;
        tbody.appendChild(tr);
    });
}

function addRoutine() {
    const time = document.getElementById('routineTime').value.trim();
    const course = document.getElementById('routineCourse').value.trim();
    const instructor = document.getElementById('routineInstructor').value.trim();
    const location = document.getElementById('routineLocation').value.trim();

    if (!time || !course || !instructor || !location) { alert('Fill all fields'); return; }

    if(editIndex >= 0) {
        routines[editIndex] = { time, course, instructor, location };
        editIndex = -1;
    } else {
        routines.push({ time, course, instructor, location });
    }

    localStorage.setItem('routines', JSON.stringify(routines));
    clearInputs();
    displayRoutines();
}

function deleteRoutine(index) {
    routines.splice(index, 1);
    localStorage.setItem('routines', JSON.stringify(routines));
    displayRoutines();
}

function editRoutine(index) {
    const r = routines[index];
    document.getElementById('routineTime').value = r.time;
    document.getElementById('routineCourse').value = r.course;
    document.getElementById('routineInstructor').value = r.instructor;
    document.getElementById('routineLocation').value = r.location;
    editIndex = index;
}

function clearInputs() {
    document.getElementById('routineTime').value = '';
    document.getElementById('routineCourse').value = '';
    document.getElementById('routineInstructor').value = '';
    document.getElementById('routineLocation').value = '';
}

displayRoutines();
</script>
</body>
</html>
