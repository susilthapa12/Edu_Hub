<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard | Routine</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
/* Scrollbar for sidebar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background-color: #2563eb; border-radius: 4px; }
</style>
</head>
<body class="flex flex-col min-h-screen bg-gray-100 font-sans">

<!-- Header -->
<header class="bg-blue-700 text-white sticky top-0 z-50 shadow-md">
  <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold">Admin Dashboard</h1>
  </div>
</header>

<div class="flex flex-1">

  <!-- Sidebar -->
  <aside class="bg-blue-800 text-white w-56 flex-shrink-0 p-4 flex flex-col space-y-4 sticky top-16 h-screen overflow-y-auto">
    <h2 class="text-xl font-semibold text-center mb-4">Menu</h2>
    <a href="#home" class="px-3 py-2 rounded hover:bg-blue-700 transition">Home</a>
    <a href="#routine" class="px-3 py-2 rounded hover:bg-blue-700 transition">Routine</a>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-6 space-y-8 max-w-6xl mx-auto">

    <!-- Home Section -->
    <section id="home" class="bg-white p-6 rounded shadow-md">
      <h2 class="text-2xl font-bold mb-2">Welcome, Admin!</h2>
      <p>Manage daily routines for students easily using this dashboard.</p>
    </section>

    <!-- Routine Section -->
    <section id="routine" class="bg-white p-6 rounded shadow-md">
      <h2 class="text-2xl font-bold mb-4">Manage Routines</h2>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
        <input type="text" id="routineTime" placeholder="Time (08:00 - 09:00)" class="p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500">
        <input type="text" id="routineCourse" placeholder="Course Name" class="p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500">
        <input type="text" id="routineInstructor" placeholder="Instructor" class="p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500">
        <input type="text" id="routineLocation" placeholder="Location" class="p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500">
      </div>
      <button onclick="addRoutine()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Add Routine</button>

      <div class="overflow-x-auto mt-4">
        <table id="routineTable" class="min-w-full border border-gray-300">
          <thead class="bg-blue-100">
            <tr>
              <th class="py-2 px-3 border-b text-left">Time</th>
              <th class="py-2 px-3 border-b text-left">Course</th>
              <th class="py-2 px-3 border-b text-left">Instructor</th>
              <th class="py-2 px-3 border-b text-left">Location</th>
              <th class="py-2 px-3 border-b text-left">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <!-- Routine rows go here -->
          </tbody>
        </table>
      </div>
    </section>

  </main>
</div>

<!-- Footer -->
<footer class="bg-blue-700 text-white py-4 text-center mt-auto">
  <p>Â© 2025 Susil. All rights reserved.</p>
</footer>

<!-- Scripts -->
<script>
let routines = JSON.parse(localStorage.getItem('routines')) || [];
let editIndex = -1;

function displayRoutines() {
  const tbody = document.querySelector('#routineTable tbody');
  tbody.innerHTML = '';
  routines.forEach((r, i) => {
    const tr = document.createElement('tr');
    tr.classList.add("hover:bg-blue-50");
    tr.innerHTML = `
      <td class="py-2 px-3">${r.time}</td>
      <td class="py-2 px-3">${r.course}</td>
      <td class="py-2 px-3">${r.instructor}</td>
      <td class="py-2 px-3">${r.location}</td>
      <td class="py-2 px-3 space-x-2">
        <button class="bg-orange-500 text-white px-2 py-1 rounded hover:bg-orange-600" onclick="editRoutine(${i})">Edit</button>
        <button class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600" onclick="deleteRoutine(${i})">Delete</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

function addRoutine() {
  const time = document.getElementById('routineTime').value.trim();
  const course = document.getElementById('routineCourse').value.trim();
  const instructor = document.getElementById('routineInstructor').value.trim();
  const location = document.getElementById('routineLocation').value.trim();

  if(!time || !course || !instructor || !location) {
    alert('Please fill all fields');
    return;
  }

  if(editIndex >= 0) {
    routines[editIndex] = { time, course, instructor, location };
    editIndex = -1;
  } else {
    routines.push({ time, course, instructor, location });
  }

  localStorage.setItem('routines', JSON.stringify(routines));
  clearInputs();
  displayRoutines();
}

function deleteRoutine(index) {
  routines.splice(index, 1);
  localStorage.setItem('routines', JSON.stringify(routines));
  displayRoutines();
}

function editRoutine(index) {
  const r = routines[index];
  document.getElementById('routineTime').value = r.time;
  document.getElementById('routineCourse').value = r.course;
  document.getElementById('routineInstructor').value = r.instructor;
  document.getElementById('routineLocation').value = r.location;
  editIndex = index;
}

function clearInputs() {
  document.getElementById('routineTime').value = '';
  document.getElementById('routineCourse').value = '';
  document.getElementById('routineInstructor').value = '';
  document.getElementById('routineLocation').value = '';
}

displayRoutines();
</script>

</body>
</html>
